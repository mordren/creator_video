{% extends "base.html" %}

{% block title %}Vídeos - Sistema de Vídeos{% endblock %}

{% block content %}


<h1 class="mb-4">Lista de Vídeos</h1>
<div class="card">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Título</th>
                        <th>Canal</th>
                        <th>Tipo</th>
                        <th>Áudio</th>
                        <th>Vídeo</th>
                        <th>Data</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Exemplo de linha 1 -->
                    <tr>
                        {% for video in videos %}
                        <td><strong>{{video.roteiro_id}}</strong></td>
                        <td>
                            <a href="{{ url_for('video_detail', roteiro_id=video.roteiro_id) }}" class="text-decoration-none">
                                {{video.roteiro.titulo|truncate(50) }}
                            </a>          
                        </td>
                        
                        <td>
                            {{ video.roteiro.canal_obj.nome }}
                        </td>
                        <td>                           
                            {% if video.roteiro.resolucao == "720x1280" %}
                            <span class="badge bg-purple">Short</span>                                    
                            {% else %}
                                <span class="badge bg-orange">Long</span>
                            {% endif %}                            
                        </td>
                        <td>
                            
                            {% if video.roteiro.audio_gerado %}
                                <span class="badge bg-success"><i class="fas fa-check"></i></span>
                            {% else %}
                                <span class="badge bg-danger"><i class="fas fa-times"></i></span>
                            {% endif %}
                        </td>
                        <td>
                            {% if video.roteiro.video_gerado %}
                                <span class="badge bg-success"><i class="fas fa-check"></i></span>
                            {% else %}
                                <span class="badge bg-danger"><i class="fas fa-times"></i></span>
                            {% endif %}
                        </td>
                        <td>
                            {% if video.roteiro.data_criacao %}
                                {% if video.roteiro.data_criacao is string %}
                                    {{ video.roteiro.data_criacao[:10] }}
                                {% else %}
                                    {{ video.roteiro.data_criacao.strftime('%d/%m/%Y') }}
                                {% endif %}                            
                            {% endif %}</td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <a href="#" class="btn btn-primary" title="Editar Vídeo">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <button class="btn btn-outline-danger delete-video" data-video-id="{{ video.id }}" title="Excluir Vídeo">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% block scripts %}
    <script src="{{ url_for('static', filename='js/videos.js') }}"></script>
{% endblock %}

{% endblock %}

